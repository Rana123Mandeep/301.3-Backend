<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sale Items - Shoe Haven</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h2 class="text-center mb-4">Shoes on  <span style="color: red;">{{category}}</span></h2>
   

    <!-- Horizontal scroll container -->
    <div class="d-flex overflow-auto gap-3 px-3">
        {% for item in products %}
        <div class="card" style="min-width: 300px; flex: 0 0 auto;">
            <img src="{{ item.image_url }}" class="card-img-top" alt="{{ item.title }}" style="height: 250px; object-fit: cover;">
            <div class="card-body">
                <h5 class="card-title">{{ item.title }}</h5>
                <p class="card-text"><strong>Brand:</strong> {{ item.brand }}</p>
                <p class="card-text"><strong>Style:</strong> {{ item.style }}</p>
                <!-- <p class="card-text"><strong>Sizes:</strong> {{ item.sizes }}</p> -->
                <div class="d-flex flex-wrap gap-2">
                    <button class="btn btn-outline-dark size-button">7</button>
                    <button class="btn btn-outline-dark size-button">8</button>
                    <button class="btn btn-outline-dark size-button">9</button>
                    <button class="btn btn-outline-dark size-button">10</button>
                    <button class="btn btn-outline-dark size-button">11</button>
                </div>

                <p class="card-text">
                    <strong>Price:</strong> ${{ item.price }}<br>
                </p>
            
                <button class="btn btn-dark mt-4 w-100">
                    <i class="bi bi-cart-plus"></i> Add to Cart
                </button>
            </div>
        </div>
        {% endfor %}
    </div>

    
    <div class="text-center mt-4">
        <a href="{{ url_for('home') }}" class="btn btn-outline-dark">Back to Home</a>
    </div>
</div>

    </div>
</div>
<script>
         document.querySelectorAll('.size-button').forEach(swatch => {
  swatch.addEventListener('click', function () {
   
    document.querySelectorAll('.size-button').forEach(btn => {
      btn.classList.remove('active');
    });

    this.classList.add('active');

    const selectedSize = this.textContent;
    console.log('Selected size:', selectedSize);

  });
});

document.querySelectorAll('.btn.btn-dark.mt-4.w-100').forEach(button => {
    button.addEventListener('click', () => {
        const card = button.closest('.card');
        const selectedSize = card.querySelector('.size-button.active')?.textContent;

        if (!selectedSize) {
            alert('Please select a size before adding to cart.');
            return;
        }

        console.log('Adding to cart with:', {
            size: selectedSize,
        });

        alert(`Added to cart with size ${selectedSize}`);
    });
});

 
</script>

</body>
</html>
